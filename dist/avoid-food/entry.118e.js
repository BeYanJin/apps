!function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="../",e(e.s=12)}([function(t,e,n){try{(function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){var e=void 0,n=void 0,i=void 0,a=void 0,o=void 0,r=20,c=0,u=!1;return{init:function(e,u,s,d,l,f,m){t.setImg(e),n=u,i=s,a=d,o=l,r=f,c=m},setDraggable:function(t){u=t},getDraggable:function(){return u},setImg:function(t){e=document.getElementById(t)},getImg:function(){return e},setX:function(t){n=t},getX:function(){return n},setY:function(t){i=t},getY:function(){return i},getSize:function(){return r},setSpeedX:function(t){a=t},setSpeedY:function(t){o=t},draw:function(e){n+=a,i+=o,e.save(),e.translate(n,i),e.rotate(c*Math.PI/180),e.drawImage(t.getImg(),-r/2,-r/2,r,r),e.restore(),c+=4}}}();e.Star=t}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Item=void 0;var t=n(0),i=function(){var e=document.getElementById("rice"),n=document.getElementById("tomato"),i=document.getElementById("eggplant"),a=document.getElementById("corn"),o=[],r=0,c=void 0;return{getCount:function(){return r},pushItem:function(t){++r>84&&t&&t();var e={x:0,y:0,num:0,rad:360*Math.random(),speedX:0,speedY:0,ratio:Math.random()+.2};switch(parseInt(4*Math.random())){case 0:e.x=0,e.y=Math.random()*window.innerHeight,e.num=0;break;case 1:e.x=Math.random()*window.innerWidth,e.y=0,e.num=1;break;case 2:e.x=window.innerWidth,e.y=Math.random()*window.innerHeight,e.num=2;break;case 3:e.x=Math.random()*window.innerWidth,e.y=window.innerHeight,e.num=3}o.push(e)},draw:function(r,c,u){o.forEach(function(o){var s=Math.sqrt(Math.pow(o.x-t.Star.getX(),2)+Math.pow(o.y-t.Star.getY(),2));Math.abs(s)<8+t.Star.getSize()/2&&u&&u();var d=.007/c;switch(Math.abs(o.speedX+(t.Star.getX()-o.x)*d)<=10&&(o.speedX+=(t.Star.getX()-o.x)*d),Math.abs(o.speedY+(t.Star.getY()-o.y)*d)<=10&&(o.speedY+=(t.Star.getY()-o.y)*d),o.x+=o.speedX*o.ratio,o.y+=o.speedY*o.ratio,r.save(),r.translate(o.x,o.y),r.rotate(o.rad*Math.PI/180),o.num){case 0:r.drawImage(e,-8,-8,16,16);break;case 1:r.drawImage(i,-8,-8,16,16);break;case 2:r.drawImage(n,-8,-8,16,16);break;case 3:r.drawImage(a,-8,-8,16,16)}r.restore()})},startMovie:function(t){var e=this;c=setInterval(function(){e.pushItem(t)},200)},stopMovie:function(){clearInterval(c)},reset:function(){o.splice(0,o.length),r=0}}}();e.Item=i}).call(this)}finally{}},function(t,e){},function(t,e,n){t.exports=n.p+"avoid-food/static/musics/music.mp3"},function(t,e,n){try{(function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={changeTitle:function(t){var e=navigator.userAgent,n=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);if(document.title=t,n){var i=document.createElement("iframe");i.setAttribute("src",document.querySelector("img#emo2").src),i.addEventListener("load",function(){console.log("haha"),setTimeout(function(){i.removeEventListener("load",function(){}),document.body.removeChild(i)},0)}),document.body.appendChild(i)}}};e.TitleChanger=t}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Canvas=void 0;var t=n(0),i=n(1),a=function(){var e=document.getElementById("canvas"),n=e.getContext("2d"),a=void 0;return{setWidth:function(t){e.width=t},setHeight:function(t){e.height=t},getContext:function(){return n},draw:function(e){n.clearRect(0,0,window.innerWidth,window.innerHeight),t.Star.draw(n),i.Item.draw(n,18,e),(t.Star.getX()-t.Star.getSize()/2<0||t.Star.getY()-t.Star.getSize()/2<0||t.Star.getX()+t.Star.getSize()/2>window.innerWidth||t.Star.getY()+t.Star.getSize()/2>window.innerHeight)&&e&&e()},startMovie:function(t){var e=this;a=setInterval(function(){e.draw(t)},18)},stopMovie:function(){clearInterval(a)},handleClick:function(t){e.onclick=function(e){t&&t(e)}},handleMouseMove:function(t){e.onmousemove=function(e){t&&t(e)}},removeEvent:function(){e.onclick=null,e.onmousemove=null}}}();e.Canvas=a}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){var t=document.getElementById("dialog"),e=function(){var t=document.getElementById("again-btn");return{handleClick:function(e){t.onclick=function(){e&&e()}}}}();return{getAgainBtn:function(){return e},hide:function(){t.className="hide"},show:function(){t.className="show-block"},text:function(t){document.getElementById("game-over-text").innerHTML=t}}}();e.Dialog=t}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){var t=document.getElementById("footer");return{hide:function(){t.className="hide"}}}();e.Footer=t}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){var t=document.getElementById("head-title");return{hide:function(){t.className="hide"}}}();e.HeadTitle=t}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){var t=document.getElementById("info");return{hide:function(){t.className="hide"}}}();e.Info=t}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){var t=document.getElementById("share");return{hide:function(){t.className="hide"},show:function(){t.className="show-block"}}}();e.Share=t}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){var e=document.getElementById("start-btn");return{getElement:function(){return e},hide:function(){e.className="hide"},handleClick:function(n){e.onclick=function(){t.hide(),n&&n()}}}}();e.StartBtn=t}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function t(){i.Canvas.setWidth(window.innerWidth),i.Canvas.setHeight(window.innerHeight),d.Star.init("emo1",window.innerWidth/2,window.innerHeight/2,0,0,20,0);for(var t=0;t<10;t++)c.Item.pushItem();c.Item.startMovie(function(){e("win")}),i.Canvas.startMovie(function(){e("lose")})}function e(t){i.Canvas.stopMovie(),c.Item.stopMovie(),f.TitleChanger.changeTitle("我在逃离北二饭堂游戏中撑了"+(c.Item.getCount()-10)/5+"s"),s.Share.show(),a.Dialog.show(),"lose"==t&&(d.Star.setImg("emo2"),d.Star.draw(i.Canvas.getContext())),a.Dialog.text("you "+t+": "+(c.Item.getCount()-10)/5+"s"),d.Star.setDraggable(!1),c.Item.reset()}var i=n(5),a=n(6),o=n(7),r=n(8),c=n(1),u=n(9),s=n(10),d=n(0),l=n(11),f=n(4);n(2),n(3),l.StartBtn.handleClick(function(){u.Info.hide(),r.HeadTitle.hide(),o.Footer.hide(),"game-bg"!==document.body.className&&document.body.setAttribute("class","game-bg"),t()}),a.Dialog.getAgainBtn().handleClick(function(){a.Dialog.hide(),s.Share.hide(),f.TitleChanger.changeTitle("你能逃离北二的控制吗"),t()}),i.Canvas.handleClick(function(t){Math.abs(t.clientX-d.Star.getX())<=d.Star.getSize()/2&&Math.abs(t.clientY-d.Star.getY())<=d.Star.getSize()/2&&d.Star.setDraggable(!0)}),i.Canvas.handleMouseMove(function(t){d.Star.getDraggable()&&(d.Star.setX(t.clientX),d.Star.setY(t.clientY))}),window.addEventListener("deviceorientation",function(t){t.gamma>=3&&t.gamma<=90||t.gamma<=-3&&t.gamma>=-90?d.Star.setSpeedX(.5*t.gamma):d.Star.setSpeedX(0),t.beta>=3&&t.beta<=90||t.beta<=-3&&t.beta>=-90?d.Star.setSpeedY(.5*t.beta):d.Star.setSpeedY(0)},!0)}).call(this)}finally{}}]);